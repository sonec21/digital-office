# 2026-02-10 - Polyclaw Dashboard

## Completed

### Infrastructure
- ✅ Systemd service for persistence (`polyclaw-dashboard.service`)
- ✅ Dashboard live at https://dashboard.chatobot.cloud/
- ✅ Risk governor with daily drawdown limits (5%)
- ✅ Auto-restart on crash, start on boot

### UI/UX
- ✅ Hash-based tab navigation (Overview/Performance/Positions/Paper/Wallet/Markets)
- ✅ Chart.js equity/PnL/drawdown charts
- ✅ Market search/filtering (live client-side)
- ✅ Strategy detail modal (click strategy name → popup)
- ✅ Reference wallet trades visible in Overview

### Data Layer
- ✅ Wallet trade ingestion via Polymarket Data API
- ✅ Market ingestion via Gamma API (with `clob_tradeable` heuristic)
- ✅ Positions table (net_shares, avg_price, cost_usd)
- ✅ Paper trades table with strategy tagging
- ✅ Equity snapshots (rate-limited 60s) from dashboard + paper_run

### Paper Trading
- ✅ Active: `demo_v1` strategy (random BUY signals, $10/trade, max 3/run)
- ✅ Respects risk gates (drawdown stop, max positions)
- ✅ Updates positions automatically on fills
- ✅ Records to `paper_trades` with full metadata

## Strategic Gap Analysis (vs. Initial Prompt)

The original prompt defines **7 specific edge strategies** + arbitrage. Current implementation is placeholder only:

| Required Strategy | Priority | Status | Notes |
|------------------|----------|--------|-------|
| **TBT Divergence** (15m, contrarian) | HIGH | ❌ Not started | Technical indicator divergence |
| **TBO** (4h, trend following MA) | HIGH | ❌ Not started | Advanced moving average strategy |
| **Late Entry** (15m crypto, last 3-4 min) | HIGH | ❌ Not started | Time-based market momentum |
| **Arbitrage** (yes+no < $1) | HIGH | ❌ Not started | *Easy win* — data already exists |
| **Counter-Trend AI** | MEDIUM | ❌ Not started | Trade against AI sentiment |
| **Mention Markets** (political figures analysis) | MEDIUM | ❌ Not started | NLP + prediction on public figures |
| **Market Making** (algos + webhooks) | LOW | ❌ Not started | Complex math models, needs API access |
| **Obscure Sports/eSports** | LOW | ❌ Not started | Low-volume scanner |

## Next Actions (by priority)

### P0 — This Week
1. **Arbitrage Scanner** — Check all markets where `asks[0].price + otherOutcomeAsks[0].price < 1.0`. Easiest edge, runs continuously.
2. **Reference Wallet Deep Analysis** — Don't just ingest, analyze. Pattern detection on successful wallets (entry timing, position sizing, market selection).
3. **TBT Divergence** — Implement 15m timeframe technical analysis on top tradeable markets.

### P1 — Next Week
4. **TBO Strategy** — 4h moving average system.
5. **Late Entry** — Crypto time-based momentum (last 3-4 min pattern).
6. **Counter-Trend AI** — Analyze orderbook for AI-driven congestion, fade it.

### P2 — Backlog
7. **Market Making** — Requires CLOB API keys, webhooks, real capital.
8. **Mention Markets** — NLP pipeline for political figure tracking.
9. **Obscure Sports** — Scan for < $10k volume events with mispricing.

## Security & Automation
- [ ] Security audit (per prompt requirement)
- [ ] Cron job for automated paper trading (not just manual runs)
- [ ] Cron job for 9 AM market updates (per prompt)
- [ ] Continuous price action analysis (per prompt)

## Commands Reference
```bash
# Run data ingestion
npm run market:ingest
npm run wallet:profile

# Run paper trading
npm run paper:run

# Dashboard
npm run dashboard        # http://127.0.0.1:3210
systemctl status polyclaw-dashboard

# Inspect data
sqlite3 data/polyclaw.sqlite "SELECT count(*) FROM markets WHERE clob_tradeable=1;"
sqlite3 data/polyclaw.sqlite "SELECT * FROM positions WHERE abs(net_shares) > 0.001;"
```

## Git Commits Today
- `8e6ee59` — Overview: add recent wallet trades back
- `6ea4933` — Add strategy execution, market search, and alerts endpoint
- `80530bc` — Add strategy modal with details popup on click
